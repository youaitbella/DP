<?xml version='1.0' encoding='UTF-8' ?>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:pf="http://primefaces.org/ui">

    <pf:importEnum type="org.inek.dataportal.psy.nub.enums.PsyNubMoneyFields"
                   var="PsyNubMoneyFields"
                   allSuffix="ALL_ENUM_VALUES"/>

    <h2>Kosten</h2>

    <div class="groupBox marginTop">
        <div class="inputPart">
            <h:outputLabel styleClass="label"
                           value="Entstehen durch die Anwendung der neuen Methode Mehrkosten gegenüber dem bisher üblichen Verfahren? Wenn ja, wodurch? Bitte geben Sie die Mehrkosten getrennt nach Personal- und Sachkosten an."/>

            <h:panelGrid columns="2" style="width: 100%;" columnClasses="col12em alignTop, colValue">
                <h:panelGroup>
                    <h:outputLabel for="nubAddCostPersonalMoney" value="Personalkosten:"/>
                    <br/>
                    <pf:message id="msgnubAddCostPersonalMoney" for="nubAddCostPersonalMoney"/>
                    <pf:inputNumber id="nubAddCostPersonalMoney"
                                    value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_PERSONAL).money}"
                                    required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_PERSONAL).comment ne ''}"
                                    readonly="#{nubEdit.readOnly}"
                                    minValue="0"
                                    symbol=" €"
                                    symbolPosition="s"
                                    decimalPlaces="2">
                        <pf:ajax event="blur" update="nubAddCostPersonalComment"/>
                    </pf:inputNumber>
                </h:panelGroup>

                <h:panelGroup>
                    <h:outputLabel for="nubAddCostPersonalComment" value="Kommentar:"/>
                    <h:message id="msgnubAddCostPersonalComment" for="nubAddCostPersonalComment"
                               styleClass="errorMessage"/>
                    <br/>
                    <h:inputTextarea style="width: 100%;"
                                     id="nubAddCostPersonalComment"
                                     required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_PERSONAL).money gt 0}"
                                     requiredMessage="Bitte geben Sie einen Kommentar zu den Mehrkosten - Personal an"
                                     value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_PERSONAL).comment}"
                                     readonly="#{nubEdit.readOnly}">
                        <f:ajax event="blur"
                                render="@this :logout:remaining msgnubAddCostPersonalComment nubAddCostPersonalMoney"/>
                    </h:inputTextarea>
                </h:panelGroup>
            </h:panelGrid>

            <h:panelGrid columns="2" style="width: 100%;" columnClasses="col12em alignTop, colValue">
                <h:panelGroup>
                    <h:outputLabel for="nubAddCostMaterialMoney" value="Sachkosten:"/>
                    <br/>
                    <pf:message id="msgnubAddCostMaterialMoney" for="nubAddCostMaterialMoney"/>
                    <pf:inputNumber id="nubAddCostMaterialMoney"
                                    value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_MATERIAL).money}"
                                    required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_MATERIAL).comment ne ''}"
                                    readonly="#{nubEdit.readOnly}"
                                    minValue="0"
                                    symbol=" €"
                                    symbolPosition="s"
                                    decimalPlaces="2">
                        <pf:ajax event="blur" update="nubAddCostMaterialComment"/>
                    </pf:inputNumber>
                </h:panelGroup>

                <h:panelGroup>
                    <h:outputLabel for="nubAddCostMaterialComment" value="Kommentar:"/>
                    <h:message id="msgnubAddCostMaterialComment" for="nubAddCostMaterialComment"
                               styleClass="errorMessage"/>
                    <br/>
                    <h:inputTextarea style="width: 100%;"
                                     id="nubAddCostMaterialComment"
                                     required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_MATERIAL).money gt 0}"
                                     requiredMessage="Bitte geben Sie einen Kommentar zu den Mehrkosten - Material an"
                                     value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_MATERIAL).comment}"
                                     readonly="#{nubEdit.readOnly}">
                        <f:ajax event="blur"
                                render="@this :logout:remaining msgnubAddCostMaterialComment nubAddCostMaterialMoney"/>
                    </h:inputTextarea>
                </h:panelGroup>
            </h:panelGrid>

            <h:panelGrid columns="2" style="width: 100%;" columnClasses="col12em alignTop, colValue">
                <h:panelGroup>
                    <h:outputLabel for="nubAddCostOtherMoney" value="Sonstige Kosten:"/>
                    <br/>
                    <pf:message id="msgnubAddCostOtherMoney" for="nubAddCostOtherMoney"/>
                    <pf:inputNumber id="nubAddCostOtherMoney"
                                    value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_OTHER).money}"
                                    required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_OTHER).comment ne ''}"
                                    readonly="#{nubEdit.readOnly}"
                                    minValue="0"
                                    symbol=" €"
                                    symbolPosition="s"
                                    decimalPlaces="2">
                        <pf:ajax event="blur" update="nubAddCostOtherComment"/>
                    </pf:inputNumber>
                </h:panelGroup>

                <h:panelGroup>
                    <h:outputLabel for="nubAddCostOtherComment" value="Kommentar:"/>
                    <h:message id="msgnubAddCostOtherComment" for="nubAddCostOtherComment"
                               styleClass="errorMessage"/>
                    <br/>
                    <h:inputTextarea style="width: 100%;"
                                     id="nubAddCostOtherComment"
                                     required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_OTHER).money gt 0}"
                                     requiredMessage="Bitte geben Sie einen Kommentar zu den Mehrkosten - Sonstige an"
                                     value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.ADD_COSTS_OTHER).comment}"
                                     readonly="#{nubEdit.readOnly}">
                        <f:ajax event="blur"
                                render="@this :logout:remaining msgnubAddCostOtherComment nubAddCostOtherMoney"/>
                    </h:inputTextarea>
                </h:panelGroup>
            </h:panelGrid>
        </div>
    </div>

    <div class="groupBox marginTop">
        <div class="inputPart">
            <h:outputLabel styleClass="label"
                           value="Werden durch die Anwendung der neuen Methode Kosteneinsparungen verursacht? Wenn ja, wodurch? Bitte geben Sie die Kosteneinsparungen getrennt nach Personal- und Sachkosten an."/>

            <h:panelGrid columns="2" style="width: 100%;" columnClasses="col12em alignTop, colValue">
                <h:panelGroup>
                    <h:outputLabel for="nubLessCostPersonalMoney" value="Personalkosten:"/>
                    <br/>
                    <pf:message id="msgnubLessCostPersonalMoney" for="nubLessCostPersonalMoney"/>
                    <pf:inputNumber id="nubLessCostPersonalMoney"
                                    value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_PERSONAL).money}"
                                    required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_PERSONAL).comment ne ''}"
                                    readonly="#{nubEdit.readOnly}"
                                    minValue="0"
                                    symbol=" €"
                                    symbolPosition="s"
                                    decimalPlaces="2">
                        <pf:ajax event="blur" update="nubLessCostPersonalComment"/>
                    </pf:inputNumber>
                </h:panelGroup>

                <h:panelGroup>
                    <h:outputLabel for="nubLessCostPersonalComment" value="Kommentar:"/>
                    <h:message id="msgnubLessCostPersonalComment" for="nubLessCostPersonalComment"
                               styleClass="errorMessage"/>
                    <br/>
                    <h:inputTextarea style="width: 100%;"
                                     id="nubLessCostPersonalComment"
                                     value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_PERSONAL).comment}"
                                     required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_PERSONAL).money gt 0}"
                                     requiredMessage="Bitte geben Sie einen Kommentar zu den Kosteneinsparungen - Personal an"
                                     readonly="#{nubEdit.readOnly}">
                        <f:ajax event="blur"
                                render="@this :logout:remaining msgnubLessCostPersonalComment nubLessCostPersonalMoney"/>
                    </h:inputTextarea>
                </h:panelGroup>
            </h:panelGrid>

            <h:panelGrid columns="2" style="width: 100%;" columnClasses="col12em alignTop, colValue">
                <h:panelGroup>
                    <h:outputLabel for="nubLessCostMaterialMoney" value="Sachkosten:"/>
                    <br/>
                    <pf:message id="msgnubLessCostMaterialMoney" for="nubLessCostMaterialMoney"/>
                    <pf:inputNumber id="nubLessCostMaterialMoney"
                                    value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_MATERIAL).money}"
                                    required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_MATERIAL).comment ne ''}"
                                    readonly="#{nubEdit.readOnly}"
                                    minValue="0"
                                    symbol=" €"
                                    symbolPosition="s"
                                    decimalPlaces="2">
                        <pf:ajax event="blur" update="nubLessCostMaterialComment"/>
                    </pf:inputNumber>
                </h:panelGroup>

                <h:panelGroup>
                    <h:outputLabel for="nubLessCostMaterialComment" value="Kommentar:"/>
                    <h:message id="msgnubLessCostMaterialComment" for="nubLessCostMaterialComment"
                               styleClass="errorMessage"/>
                    <br/>
                    <h:inputTextarea style="width: 100%;"
                                     id="nubLessCostMaterialComment"
                                     value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_MATERIAL).comment}"
                                     required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_MATERIAL).money gt 0}"
                                     requiredMessage="Bitte geben Sie einen Kommentar zu den Kosteneinsparungen - Material an"
                                     readonly="#{nubEdit.readOnly}">
                        <f:ajax event="blur"
                                render="@this :logout:remaining msgnubLessCostMaterialComment nubLessCostMaterialMoney"/>
                    </h:inputTextarea>
                </h:panelGroup>
            </h:panelGrid>

            <h:panelGrid columns="2" style="width: 100%;" columnClasses="col12em alignTop, colValue">
                <h:panelGroup>
                    <h:outputLabel for="nubLessCostOtherMoney" value="Sonstige Kosten:"/>
                    <br/>
                    <pf:message id="msgnubLessCostOtherMoney" for="nubLessCostOtherMoney"/>
                    <pf:inputNumber id="nubLessCostOtherMoney"
                                    value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_OTHER).money}"
                                    required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_OTHER).comment ne ''}"
                                    readonly="#{nubEdit.readOnly}"
                                    minValue="0"
                                    symbol=" €"
                                    symbolPosition="s"
                                    decimalPlaces="2">
                        <pf:ajax event="blur" update="nubLessCostOtherComment"/>
                    </pf:inputNumber>
                </h:panelGroup>

                <h:panelGroup>
                    <h:outputLabel for="nubLessCostOtherComment" value="Kommentar:"/>
                    <h:message id="msgnubLessCostOtherComment" for="nubLessCostOtherComment"
                               styleClass="errorMessage"/>
                    <br/>
                    <h:inputTextarea style="width: 100%;"
                                     id="nubLessCostOtherComment"
                                     value="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_OTHER).comment}"
                                     required="#{nubEdit.psyNubRequest.getMoneyValue(PsyNubMoneyFields.LESS_COSTS_OTHER).money gt 0}"
                                     requiredMessage="Bitte geben Sie einen Kommentar zu den Kosteneinsparungen - Sonstige an"
                                     readonly="#{nubEdit.readOnly}">
                        <f:ajax event="blur"
                                render="@this :logout:remaining msgnubLessCostOtherComment nubLessCostOtherMoney"/>
                    </h:inputTextarea>
                </h:panelGroup>
            </h:panelGrid>
        </div>
    </div>

    <div class="inputPart">
        <h:outputLabel styleClass="label" for="nubPepps"
                       value="Welche PEPP ist (sind) am häufigsten von dieser Methode betroffen? (Angabe mit Komma getrennt)"/>
        <h:message for="nubPepps" id="msgnubPepps" styleClass="errorMessage"/>
        <br/>
        <h:inputTextarea styleClass="areaWideHigh"
                         id="nubPepps"
                         readonly="#{nubEdit.readOnly}"
                         value="#{nubEdit.psyNubRequest.proposalData.pepps}"
                         validator="#{nubEdit.checkPepps}"
                         required="false">
            <f:ajax event="blur" render="@this :logout:remaining nubPepps msgnubPepps"/>
        </h:inputTextarea>
    </div>

    <div class="inputPart">
        <h:outputLabel styleClass="label" for="nubPepps"
                       value="Warum ist diese Methode aus Ihrer Sicht derzeit im PEPP-System nicht sachgerecht abgebildet?"/>
        <h:message for="nubWhyNotRepresented" id="msgnubWhyNotRepresented" styleClass="errorMessage"/>
        <br/>
        <h:inputTextarea styleClass="areaWideHigh"
                         id="nubWhyNotRepresented"
                         readonly="#{nubEdit.readOnly}"
                         value="#{nubEdit.psyNubRequest.proposalData.whyNotRepresented}"
                         required="true"
                         requiredMessage="Bitte geben Sie ein Begründung an, warum diese Methode Ihrer Meinung nach nicht im System abgebildet ist">
            <f:ajax event="blur" render="@this :logout:remaining nubWhyNotRepresented msgnubWhyNotRepresented"/>
        </h:inputTextarea>
    </div>


</ui:composition>