<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                >

    <h:dataTable   headerClass="list-header" value="#{editDrgProposal.drgProposal.comments}" 
                  var="comment" width="100%" rowClasses="row1, row2" columnClasses="col17, colId, colValue">
        <h:column>
            <f:facet name="header">
                <h:outputText value="#{msg.lblTimestamp}"/>
            </f:facet>
            <h:outputText value="#{sessionTools.formatDate(comment.creationDate, msg.formatTimestamp)}">
            </h:outputText>
        </h:column>
        <h:column>
            <f:facet name="header">
                <h:outputText value="#{msg.lblInitials}"/>
            </f:facet>
            <h:outputText value="#{comment.initials}"/>
        </h:column>
        <h:column>
            <f:facet name="header">
                <h:outputText value="#{msg.lblComment}"/>
            </f:facet>
            <h:outputText value="#{comment.comment}"/>
        </h:column>

    </h:dataTable>

    <div class="inputPart">
        <h:outputLabel styleClass="label" for="newComment" value="#{msg.lblComment}:"/>
        <h:message for="newComment" id="msgComment" styleClass="errorMessage"/>
        <br/>
        <h:inputTextarea  styleClass="areaHuge" id="newComment" value="#{editDrgProposal.newComment}">
            <f:ajax event="blur" render="@this :logout:remaining msgComment"/>
        </h:inputTextarea>
    </div>
    <h:commandLink styleClass="button marginTop" action="#{editDrgProposal.saveComment}" value="#{msg.btnSave}" immediate="true">
        <!--f:ajax render="newComment"/-->
    </h:commandLink>

</ui:composition>

