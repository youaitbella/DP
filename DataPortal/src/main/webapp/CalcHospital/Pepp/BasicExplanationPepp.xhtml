<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour">

    <h2>Erklärung zur Kalkulationsgrundlage</h2>

    <table cellspacing="6">
        <thead>
        <th>Bezeichnung</th>
        <th>#{editCalcBasicsPepp.calcBasics.dataYear}</th>
        <th>#{editCalcBasicsPepp.calcBasics.dataYear-1}</th>
        <th>Abweichung</th>
        </thead>
        <tr>
            <td>
                <span class="label">Summe kalkulationsrelevanter Kosten (EUR)</span>
            </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.sumCalcCost}" 
                                     required="true" 
                                     id="sumCalcCosts"
                                     renderElement="@this pDiffSumCalcCost :logout:remaining"
                                     />
        </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.sumCalcCost}" 
                                     disabled="true"
                                     id="pSumCalcCost"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffSumCalcCost">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.sumCalcCost, editCalcBasicsPepp.calcBasics.sumCalcCost)}" 
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">Anzahl kalkulationsrelevanter Fälle</span>
            </td>
            <td>
            </td>
            <td>
            </td>
            <td>
            </td>
        </tr>
        <tr>
            <td>
                <span class="label">Fälle vollstationär</span>
            </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.caseInStationCnt}" 
                                     required="true" 
                                     id="fullCases"
                                     renderElement="@this pDiffCaseInstationCount :logout:remaining"
                                     />
        </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.caseInStationCnt}" 
                                     id="pCaseInstationCount"
                                     disabled="true"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffCaseInstationCount">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.caseInStationCnt, editCalcBasicsPepp.calcBasics.caseInStationCnt)}" 
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">Fälle teilstationär</span>
            </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.casePartialStationCnt}" 
                                     required="true" 
                                     id="halfCases"
                                     renderElement="@this pDiffPartialStationCount :logout:remaining"
                                     />
        </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.casePartialStationCnt}"
                                     disabled="true"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffPartialStationCount">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.casePartialStationCnt, editCalcBasicsPepp.calcBasics.casePartialStationCnt)}"
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">Berechnungstage teilstationär</span>
            </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.daysPartialStation}"
                                     required="true" 
                                     id="halfCalcDays"
                                     renderElement="@this pDiffHalfCalcDays :logout:remaining"
                                     />
        </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.daysPartialStation}"
                                     id="pHalfCalcDays"
                                     disabled="true"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffHalfCalcDays">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.daysPartialStation, editCalcBasicsPepp.calcBasics.daysPartialStation)}"
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">Begleitpersonen</span>
            </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.patientEscort}"
                                     required="true" 
                                     id="companions"
                                     renderElement="@this pPatientEscort pDiffPatientEscort :logout:remaining"
                                     />
        </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.patientEscort}"
                                     disabled="true"
                                     id="pPatientEscort"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffPatientEscort">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.patientEscort, editCalcBasicsPepp.calcBasics.patientEscort)}"
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">rein vorstationär</span>
            </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.preStation}"
                                     required="true" 
                                     id="onlyStationary"
                                     renderElement="@this pDiffPreStation :logout:remaining"
                                     />
        </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.preStation}"
                                     disabled="true"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffPreStation">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.preStation, editCalcBasicsPepp.calcBasics.preStation)}"
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">Betten (DRG-Bereich)</span>
            </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.beds}"
                                     required="true" 
                                     renderElement="@this pDiffBeds :logout:remaining"
                                     />
        </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.beds}"
                                     disabled="true"
                                     />
        </td>
        <td>
        <h:panelGroup id="pDiffBeds">
            <inek:InputNumberWithMessage styleClass="inputwide"
                                         value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.beds, editCalcBasicsPepp.calcBasics.beds)}"
                                         disabled="true"
                                         />
        </h:panelGroup>
        </td>
        </tr>
        <tr>
            <td>
                <span class="label">Anzahl teilstationäre Plätze (DRG-Bereich)</span>
            </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcBasics.partialCnt}"
                                     required="true" 
                                     renderElement="@this pDiffPartialCnt :logout:remaining"
                                     />
        </td>
            <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.priorCalcBasics.partialCnt}"
                                     disabled="true"
                                     />
        </td>
        <td>
        <inek:InputNumberWithMessage styleClass="inputwide"
                                     value="#{editCalcBasicsPepp.calcPercentualDiff(editCalcBasicsPepp.priorCalcBasics.partialCnt, editCalcBasicsPepp.calcBasics.partialCnt)}"
                                     disabled="true"
                                     />
        </td>
        </tr>
        <tbody>

        </tbody>
    </table>

    <h2>Entlassender Standort</h2>

    <div class="inputPart">
        <h:outputLabel styleClass="label" value="Anzahl Standorte:" /> &nbsp;
        <h:inputText styleClass="inputshort" value="#{editCalcBasicsPepp.calcBasics.locationCnt}" required="true">
            <f:ajax event="blur" render="@this :logout:remaining"/>
        </h:inputText>
    </div>

    <div class="inputPart">
        <inek:BooleanRadioButton label="Liegt ein nach Standorten differenzierter Versorgungsauftrag vor:"  
                                 renderElement="@this :logout:remaining" value="#{editCalcBasicsPepp.calcBasics.difLocationSupply}" labelStyle="label"/>
    </div>
</ui:composition>

