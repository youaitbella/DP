<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:calc="http://xmlns.jcp.org/jsf/composite/components/calc"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <h2>#{msg.TopicCalcStrokeUnit}</h2>

    <inek:BooleanRadioButton label="#{msg.lblHospitalHasIntensiveStrokeBeds}" 
                             value="#{editCalcBasicsDrg.calcBasics.strokeBed}"
                             labelStyle="label element25em">
        <f:ajax event="clientChange"  
                render="@form :script"
                listener="#{sessionController.hideData(editCalcBasicsDrg.calcBasics.strokeBed)}"/>
    </inek:BooleanRadioButton>
    <br/>

    <div jsf:id="intensivCareDetail" jsf:rendered="#{editCalcBasicsDrg.calcBasics.strokeBed}">
        <h:outputLabel styleClass="label element25em" value="#{msg.lblIntensivStrokeSumNotWeighted}"/>
        <h:outputLabel id="sumIntNotWeighted" styleClass="label element08em number" 
                       value="#{editCalcBasicsDrg.sumIntensivStrokeNotWeighted}">
            <f:convertNumber pattern="#,##0" locale="de" />
        </h:outputLabel>
        <br/>
        <h:outputLabel styleClass="label element25em" value="#{msg.lblIntensivStrokeSumWeighted}"/>
        <h:outputLabel id="sumIntWeighted" styleClass="label element08em number" 
                       value="#{editCalcBasicsDrg.sumIntensivStrokeWeighted}">
            <f:convertNumber pattern="#,##0" locale="de" />
        </h:outputLabel>

        <calc:IntensivStroke id="intStroke" intensiveType="2"/>
        
<!--        <h:panelGroup rendered="#{!editCalcBasicsDrg.readOnly}" class="inputPart">-->
        <h:panelGroup id="journal1" rendered="true" class="inputPart">

            <div class="uploadFile inlineBlock marginRight">
                <h:inputFile styleClass="hiddenFile" id="file" value="#{editCalcBasicsDrg.fileStrokeUnit}" >
                    <f:ajax listener="#{editCalcBasicsDrg.uploadNoticesStrokeUnit()}" render="@all"/>
                </h:inputFile>
                <div class="fakeFile">
                    <h:outputLabel style="margin-top: 1px;" styleClass="button element100" value="Upload Stroke Unit"/>
                </div>
            </div>

            <h:commandLink styleClass="button" value="Download Musterdatei" action="#{editCalcBasicsDrg.downloadTemplateStrokeUnit()}" immediate="true"/>

            <h:commandLink rendered="#{editCalcBasicsDrg.importMessageStrokeUnit.length() gt 0}" 
                           styleClass="button"
                           value="#{msg.btnJournal} &nbsp; #{editCalcBasicsDrg.showJournal ? '˄' : '˅'}" 
                           actionListener="#{editCalcBasicsDrg.toggleJournal}">
                <f:ajax render="@this :journal1 :logout:remaining"/>
            </h:commandLink>

            <h:inputTextarea id="journal" rendered="#{editCalcBasicsDrg.importMessageStrokeUnit.length() gt 0 and editCalcBasicsDrg.showJournal}" 
                             value="#{editCalcBasicsDrg.importMessageStrokeUnit}"
                             readonly="true"
                             styleClass="element100 #{editCalcBasicsDrg.importMessageStrokeUnit.length() > 500 ? 'areaHugh' : 'areaWideHigh'}"/>
        </h:panelGroup>
        
    </div>

</ui:composition>

