<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:calc="http://xmlns.jcp.org/jsf/composite/components/calc"
                xmlns:jsf="http://xmlns.jcp.org/jsf">



    <h2>#{msg.TopicCalcIntensiveCare}</h2>

    <inek:BooleanRadioButton label="#{msg.lblHospitalHasIntensiveBeds}" 
                             value="#{editCalcBasicsDrg.calcBasics.intensiveBed}"
                             labelStyle="label element25em">
            <f:ajax event="clientChange"  
                    render="@form :script"
                    listener="#{sessionController.hideData(editCalcBasicsDrg.calcBasics.intensiveBed)}"/>
    </inek:BooleanRadioButton>
    <br/>

    <div jsf:id="intensivCareDetail" jsf:rendered="#{editCalcBasicsDrg.calcBasics.intensiveBed}">
        <h:outputLabel styleClass="label element25em" value="#{msg.lblIntensivStrokeSumNotWeighted}"/>
        <h:outputLabel id="sumIntNotWeighted" styleClass="label element08em number" 
                       value="#{editCalcBasicsDrg.sumIntensivStrokeNotWeighted}">
            <f:convertNumber pattern="#,##0" locale="de" />
        </h:outputLabel>
        <br/>
        <h:outputLabel styleClass="label element25em" value="#{msg.lblIntensivStrokeSumWeighted}"/>
        <h:outputLabel id="sumIntWeighted" styleClass="label element08em number" 
                       value="#{editCalcBasicsDrg.sumIntensivStrokeWeighted}">
            <f:convertNumber pattern="#,##0" locale="de" />
        </h:outputLabel>

        <h2>Bitte benennen Sie die Intensivstation wie in der Datei Intensiv.csv</h2>
        <calc:IntensivStroke id="intStroke" intensiveType="1"/>

        <h:panelGroup rendered="#{!editCalcBasicsDrg.readOnly}" class="inputPart">

            <div class="uploadFile inlineBlock marginRight">
                <h:inputFile styleClass="hiddenFile" id="file" value="#{editCalcBasicsDrg.fileIntensivCare}" >
                    <f:ajax listener="#{editCalcBasicsDrg.uploadNoticesIntensiv()}" render="@all"/>
                </h:inputFile>
                <div class="fakeFile">
                    <h:outputLabel style="margin-top: 1px;" styleClass="button element100" value="Upload Intensiv"/>
                </div>
            </div>

            <h:commandLink styleClass="button" value="Download Musterdatei" action="#{editCalcBasicsDrg.downloadTemplateIntensiv()}" immediate="true"/>

            <h:commandLink rendered="#{editCalcBasicsDrg.importMessageIntensiv.length() gt 0}" 
                           styleClass="button"
                           value="#{msg.btnJournal} &nbsp; #{editCalcBasicsDrg.showJournal ? '˄' : '˅'}" 
                           actionListener="#{editCalcBasicsDrg.toggleJournal}">
                <f:ajax render="journal :logout:remaining"/>
            </h:commandLink>

            <h:inputTextarea id="journal" rendered="#{editCalcBasicsDrg.importMessageIntensiv.length() gt 0 and editCalcBasicsDrg.showJournal}" 
                             value="#{editCalcBasicsDrg.importMessageIntensiv}"
                             readonly="true"
                             styleClass="element100 #{editCalcBasicsDrg.importMessageIntensiv.length() > 500 ? 'areaHugh' : 'areaWideHigh'}"/>
        </h:panelGroup>

    </div>


    <br/>


</ui:composition>

