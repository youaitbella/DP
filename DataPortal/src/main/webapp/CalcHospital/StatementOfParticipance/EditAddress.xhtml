<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="Edit.xhtml"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:calc="http://xmlns.jcp.org/jsf/composite/components/calc"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <ui:define name="editContent">

        <h2>#{msg.lblHospital}</h2>

        <h:form>
            <div class="inputPart">
                <h:outputLabel styleClass="label" for="ikMulti" value="#{msg.lblIkShort}:"/>
                <h:message for="ikMulti" id="msgMultiIk" styleClass="errorMessage"/>
                <br/>
                <h:selectOneMenu styleClass="inputmedium"
                                 rendered="#{!editStatementOfParticipance.readOnly}"
                                 id="ikMulti"
                                 title="#{msg.titleIK}"
                                 required="true"
                                 requiredMessage="#{msg.msgValueNeeded}"
                                 value="#{editStatementOfParticipance.statement.ik}">
                    <f:selectItems value="#{editStatementOfParticipance.iks}"/>
                    <f:ajax event="blur" render="@this :logout:remaining msgMultiIk"/>
                    <f:ajax event="change" listener="#{editStatementOfParticipance.changedIk}" render="@form :logout:remaining msgMultiIk"/>
                </h:selectOneMenu>
                <h:inputText styleClass="inputlong" readonly="true" value="#{editStatementOfParticipance.statement.ik}" rendered="#{editStatementOfParticipance.readOnly}"/>
                <h:outputLabel id="hospitalName" styleClass="label marginLeft" value="#{editStatementOfParticipance.hospitalInfo}"/>
                <br/>
                <h:outputText value="#{msg.lblNubHintMoreIks}" rendered="#{!editStatementOfParticipance.readOnly}"/>
            </div>
        </h:form>


        <h2>#{msg.lblContactPerson}</h2>

        <h:form>
            <calc:CalcContactTable value="#{editStatementOfParticipance.contacts}" readOnly="#{editStatementOfParticipance.readOnly}"/>

            <h:commandLink id="addButton" styleClass="addButton inputPart" value="#{msg.btnAddEntry}"
                           rendered="#{!editStatementOfParticipance.readOnly}">
                <f:ajax event="click" render="@form :logout:remaining" listener="#{editStatementOfParticipance.addContact}"/>
            </h:commandLink>
        </h:form>


        <h2>#{msg.lblExternalSupport}</h2>

        <h:form styleClass="inputPart" id="consultantData">
            <h:panelGrid styleClass="inlineBlock col45em">
                <h:outputLabel styleClass="label" for="withCconsultant" value="#{msg.lblCalcUseConsultant}"/>
            </h:panelGrid>

            <h:selectOneRadio styleClass="inlineBlock" id="withCconsultant" 
                              value="#{editStatementOfParticipance.statement.withConsultant}" >
                <f:selectItem itemLabel="#{msg.lblYes} &nbsp;" itemValue="true"/>
                <f:selectItem itemLabel="#{msg.lblNo} &nbsp;" itemValue="false" />
                <f:ajax render="@form :logout:remaining"/>
            </h:selectOneRadio>

            <div jsf:rendered="#{editStatementOfParticipance.statement.withConsultant}">
                <inek:LabeledText Label="#{msg.lblNameConsultant}" Required="true" Text="#{editStatementOfParticipance.statement.consultantCompany}" styleClass="col50em"/> 

                <h:panelGrid styleClass="inlineBlock col45em">
                    <h:outputLabel styleClass="label" for="mailDistribution" value="#{msg.lblCalcConsultantMailDistribution}"/>
                </h:panelGrid>

                <h:selectOneRadio styleClass="inlineBlock" id="mailDistribution" 
                                  value="#{editStatementOfParticipance.statement.consultantSendMail}" >
                    <f:selectItem itemLabel="#{msg.lblYes} &nbsp;" itemValue="true"/>
                    <f:selectItem itemLabel="#{msg.lblNo} &nbsp;" itemValue="false" />
                    <f:ajax render="@this :logout:remaining"/>
                </h:selectOneRadio>

                <calc:CalcContactTable value="#{editStatementOfParticipance.consultants}" 
                                       readOnly="#{editStatementOfParticipance.readOnly}"
                                       enableDelete="false"/>

            </div>

        </h:form>




    </ui:define>
</ui:composition>
