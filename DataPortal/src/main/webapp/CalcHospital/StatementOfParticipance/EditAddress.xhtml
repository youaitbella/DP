<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="Edit.xhtml"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:calc="http://xmlns.jcp.org/jsf/composite/components/calc"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:jsf="http://xmlns.jcp.org/jsf">

    <ui:define name="editContent">

        <h2>#{msg.lblHospital}</h2>

        <h:form>
            <div class="inputPart">
                <h:outputLabel styleClass="label" for="ikMulti" value="#{msg.lblIkShort}:"/>
                <h:message for="ikMulti" id="msgMultiIk" styleClass="errorMessage"/>
                <br/>
                <h:selectOneMenu styleClass="inputmedium"
                                 rendered="#{!editStatementOfParticipance.readOnly}"
                                 id="ikMulti"
                                 title="#{msg.titleIK}"
                                 required="true"
                                 requiredMessage="#{msg.msgValueNeeded}"
                                 value="#{editStatementOfParticipance.statement.ik}">
                    <f:selectItems value="#{editStatementOfParticipance.iks}"/>
                    <f:ajax event="blur" render="@this :logout:remaining msgMultiIk"/>
                    <f:ajax event="change" listener="#{editStatementOfParticipance.changedIk}" render="@form :logout:remaining msgMultiIk"/>
                </h:selectOneMenu>
                <h:inputText styleClass="inputlong" readonly="true" value="#{editStatementOfParticipance.statement.ik}" rendered="#{editStatementOfParticipance.readOnly}"/>
                <h:outputLabel id="hospitalName" styleClass="label marginLeft" value="#{editStatementOfParticipance.hospitalInfo}"/>
                <br/>
                <h:outputText value="#{msg.lblNubHintMoreIks}" rendered="#{!editStatementOfParticipance.readOnly}"/>
            </div>

            <h:outputLabel styleClass="blockHeader" value="#{msg.lblStatementProvisionOfData}"/>

            <div class="inputPart">
                <inek:BooleanRadioButton label="#{msg.lblStatementDrg}" 
                                         value="#{editStatementOfParticipance.statement.drgCalc}" 
                                         renderElement="@all"
                                         readonly="#{editStatementOfParticipance.readOnly}"/>
            </div>

            <div class="inputPart">
                <inek:BooleanRadioButton label="#{msg.lblStatementPepp}" 
                                         value="#{editStatementOfParticipance.statement.psyCalc}" 
                                         renderElement="@all"
                                         readonly="#{editStatementOfParticipance.readOnly}"/>
            </div>

            <div class="inputPart">
                <inek:BooleanRadioButton label="#{msg.lblStatementInv}" 
                                         value="#{editStatementOfParticipance.statement.invCalc}" 
                                         renderElement="@all"
                                         readonly="#{editStatementOfParticipance.readOnly}"/>
            </div>

            <div class="inputPart">
                <inek:BooleanRadioButton label="#{msg.lblStatementTpg}" 
                                         value="#{editStatementOfParticipance.statement.tpgCalc}" 
                                         renderElement="@all"
                                         readonly="#{editStatementOfParticipance.readOnly}"/>
            </div>

        </h:form>


        <h2>#{msg.lblContactPerson}</h2>

        <h:form>
            <calc:CalcContactTable value="#{editStatementOfParticipance.contacts}" 
                                   allowDrg="#{editStatementOfParticipance.statement.drgCalc}"
                                   allowPsy="#{editStatementOfParticipance.statement.psyCalc}"
                                   allowInv="#{editStatementOfParticipance.statement.invCalc}"
                                   allowTpg="#{editStatementOfParticipance.statement.tpgCalc}"
                                   readonly="#{editStatementOfParticipance.readOnly}"/>

            <h:commandLink id="addButton" styleClass="addButton inputPart" value="#{msg.btnAddEntry}"
                           rendered="#{!editStatementOfParticipance.readOnly}">
                <f:ajax event="click" render="@form :logout:remaining" listener="#{editStatementOfParticipance.addContact}"/>
            </h:commandLink>
        </h:form>


        <h2>#{msg.lblExternalSupport}</h2>

        <h:form styleClass="inputPart" id="consultantData">
            <inek:BooleanRadioButton label="#{msg.lblCalcUseConsultant}" 
                                     value="#{editStatementOfParticipance.statement.withConsultant}" 
                                     labelStyle="col45em label" 
                                     readonly="#{editStatementOfParticipance.readOnly}"
                                     renderElement="@form"/>


            <div jsf:rendered="#{editStatementOfParticipance.statement.withConsultant}">
                <inek:LabeledText Label="#{msg.lblNameConsultant}" 
                                  Required="true" 
                                  readonly="#{editStatementOfParticipance.readOnly}"
                                  Text="#{editStatementOfParticipance.statement.consultantCompany}" 
                                  styleClass="col50em"/> 

                <inek:BooleanRadioButton label="#{msg.lblCalcConsultantMailDistribution}" 
                                         value="#{editStatementOfParticipance.statement.consultantSendMail}" 
                                         readonly="#{editStatementOfParticipance.readOnly}"
                                         labelStyle="col45em label"/>

                <calc:CalcContactTable value="#{editStatementOfParticipance.consultants}" 
                                       readonly="#{editStatementOfParticipance.readOnly}"
                                       queryDomain="false"
                                       enableDelete="false"/>

            </div>

        </h:form>




    </ui:define>
</ui:composition>
