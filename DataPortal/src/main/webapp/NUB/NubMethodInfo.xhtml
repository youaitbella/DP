<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/Templates/PortalMenuTemplate.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components">


    <ui:define name="content">
        <h:form id="form">
            <h1>
                #{msg.lblNubMethodInfo}
            </h1>

            <div class="paddingElement" style="background-color: #eee; margin: 5px 1px 10px 1px; border-style: solid; border-width: 1px; border-color: #043358;">
                In der Aufstellung der Informationen nach § 6 Abs. 2 KHEntgG für 
                <a href="http://g-drg.de/cms/content/download/6093/46662/version/5/file/Aufstellung-Information_NUB_2016_160127.pdf">2016</a>
                bzw. <a href="http://g-drg.de/cms/content/download/5752/44304/version/3/file/Aufstellung-Information_NUB_2015_150130.pdf">2015</a>
                sind die eingegangenen Anfragen unter einer zusammenfassenden Bezeichnung aufgeführt. 
                Um die Suche nach bestimmten Methoden in den NUB-Verfahren der Vorjahre zu erleichtern, zeigt die folgende Liste darüber hinaus alle Bezeichnungen, 
                wie sie von <i>den anfragenden Krankenhäusern selbst</i> verwendet worden sind.
                Zusätzlich kann per Klick zu jeder Methode mindestens eine ausführliche Beschreibung des Verfahrens dargestellt werden.
                Sowohl die genaue Schreibweise der Methodenbezeichnung wie auch die Formatierung der ausführlichen Beschreibung entsprechen dabei weitestgehend den ursprünglichen NUB-Anfragen. 
                Es wurden lediglich einzelne Inhalte wie Personennamen entfernt, eine umfassende redaktionelle Überarbeitung der Inhalte ist nicht erfolgt.
            </div>

            <div class="inputPart" >
                <h:outputLabel for="txtFilter" styleClass="label marginRight" value="#{msg.lblFilter}"/>
                <h:inputText id="txtFilter" styleClass="inputmedium marginRight" value="#{nubMethodInfoController.filter}">
                    <f:ajax event="change" render="@form :logout:remaining"/>
                </h:inputText>
                <h:commandButton styleClass="button marginRight" value="#{msg.btnRefreshList}">
                    <f:ajax render="@form :logout:remaining"/>
                </h:commandButton>
                <h:selectBooleanCheckbox id="restrictToOne" value="#{nubMethodInfoController.restrictToOne}" styleClass="marginLeft marginRight">
                    <f:ajax render="@form :logout:remaining"/>
                </h:selectBooleanCheckbox>
                <h:outputLabel for="restrictToOne" value="nur 1 Eintrag je Nr." />
            </div>
            <hr class="simpleLine"/>

            <inek:NubMethodInfoNavigation/>
            <inek:NubMethodInfo methodInfos="#{nubMethodInfoController.nubMethodInfosHead}" id="head"/>

            <h:panelGroup id="description" rendered="#{nubMethodInfoController.split gt 0}">
                <h:outputLabel value="Beschreibung" styleClass="label paddingElement"/>
                <h:inputTextarea value="#{nubMethodInfoController.description}" 
                                 styleClass="areaHuge paddingElement marginBottom"
                                 readonly="true"/>
                <hr class="simpleLine"/>
            </h:panelGroup>
            
            <inek:NubMethodInfo methodInfos="#{nubMethodInfoController.nubMethodInfosTail}" 
                                rendered="#{nubMethodInfoController.nubMethodInfosTail.size() > 0}"/>
            <inek:NubMethodInfoNavigation/>


        </h:form>

        <script>
            function makeVisible() {
                var el = document.getElementById("form:head:methodInfoList:#{nubMethodInfoController.split-1}:year");
                if (el.getBoundingClientRect().top > window.innerHeight) {
                    el.scrollIntoView();
                }
            }
            addOnLoadFunction(makeVisible);
        </script>
    </ui:define>

</ui:composition>
