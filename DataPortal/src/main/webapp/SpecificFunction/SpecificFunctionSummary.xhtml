<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/Templates/PortalMenuTemplate.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                xmlns:c="http://xmlns.jcp.org/jsp/jstl/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:spf="http://xmlns.jcp.org/jsf/composite/components/specificfunction"
                >

    <ui:define name="content">
        <h:form class="paddingElement">
            
            <h1>#{msg.lblSpecificFunction}</h1>

            #{specificFunctionRequestTreeHandler.refreshNodes()}

            <spf:RequestNode parentNode="#{specificFunctionRequestTreeHandler.accountNode}" isSealed="false" 
                             showDelete="true" showSelectBox="false"
                             rendered="#{specificFunctionRequestTreeHandler.accountNode.children.size() gt 0}"/>

            <h:commandLink styleClass="bigButton #{specificFunctionRequestList.newAllowed? '' : 'buttonDisabled'}"
                           action="#{specificFunctionRequestList.newRequest()}"
                           immediate="true"
                           value="#{msg.btnNewSpecificFunctionRequest}"
                           disabled="#{!specificFunctionRequestList.newAllowed}"
                           >
                <f:param name="id" value="new"/>
            </h:commandLink>

        </h:form>

    </ui:define>

</ui:composition>
