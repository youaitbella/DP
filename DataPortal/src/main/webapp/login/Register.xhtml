<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="/Templates/PortalPublicTemplate.xhtml"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html">

    <ui:define name="content">
        <h:form id="register">
            <h1>Registrierung</h1>
            <div class="edit">

                <div class="inputleft">
                    <p>
                    <h:outputLabel styleClass="label" for="user" value="#{msg.lblUser}:"/>
                    <h:message for="user" id="msgUser" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="user" value="#{register.accountRequest.user}" immediate="false"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}"
                                 validator="#{register.checkUser}" maxlength="50"
                                 title="#{msg.tipUserName}">
                        <f:ajax event="blur" render="@this msgUser"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="email" value="#{msg.lblMail}:"/>
                    <h:message for="email" id="msgEmail" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="email" value="#{register.accountRequest.email}" required="true" requiredMessage="#{msg.msgValueNeeded}"
                                 validator="#{register.checkEmail}" maxlength="50"
                                 title="#{msg.tipEmail}">
                        <f:ajax event="blur" render="@this msgEmail"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="repeatEmail" value="#{msg.lblRepeatMail}:"/>
                    <h:message for="repeatEmail" id="msgRepeatEmail" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="repeatEmail" value="#{register.repeatEmail}" required="true" requiredMessage="#{msg.msgValueNeeded}"
                                 validator="#{register.checkRepeatEmail}" maxlength="50">
                        <f:ajax event="blur" render="@this msgRepeatEmail"/>
                    </h:inputText>
                    </p>

                    <p>
                    <h:outputLabel styleClass="label" for="password" value="#{msg.lblPassword}:"/>
                    <h:message for="password" id="msgPassword" styleClass="errorMessage"/>
                    <br/>
                    <h:inputSecret styleClass="input" id="password" value="#{register.password}" required="true" requiredMessage="#{msg.msgValueNeeded}"
                                   redisplay="true" maxlength="50">
                        <f:ajax event="blur" render="@this msgPassword"/>
                        <f:ajax render="qualityIndicator" event="keyup" listener="#{securePassword.checkPasswordQuality}"/>
                    </h:inputSecret>
                    <h:outputLabel id="qualityIndicator" value="" class="circle#{securePassword.quality.color}" title="#{msg.msgPasswordStrength}"/>
                    </p>

                    <p>
                    <h:outputLabel styleClass="label" for="repeatPassword" value="#{msg.lblRepeatPassword}:"/>
                    <h:message id="msgRepeatPassword" for="repeatPassword" styleClass="errorMessage"/>
                    <br/>
                    <h:inputSecret styleClass="input" id="repeatPassword" value="#{register.repeatPassword}" required="true" requiredMessage="#{msg.msgValueNeeded}"
                                   redisplay="true" maxlength="50"
                                   validator="#{register.checkPassword}">
                        <f:ajax event="blur" render="@this msgRepeatPassword"/>
                    </h:inputSecret>
                    </p>
                    <p>
                    <h:panelGrid columns="2" width="90%">
                        <h:panelGroup styleClass="inputmedium">
                            <h:outputLabel styleClass="label" for="cbxGender" value="#{msg.lblSalutation}"/>
                            <h:message id="msgGender" for="cbxGender" styleClass="errorMessage"/>
                            <br/>
                            <h:selectOneMenu styleClass="inputshort" id="cbxGender" value="#{register.accountRequest.gender}"
                                             required="true" requiredMessage="#{msg.msgChooseEntryShort}">
                                <f:selectItems value="#{sessionTools.genderItems}"/>
                                <f:ajax event="blur" render="@this msgGender"/>
                            </h:selectOneMenu>
                        </h:panelGroup>
                        <h:panelGroup>
                            <h:outputLabel styleClass="label" for="title" value="#{msg.lblTitle}"/>
                            <br/>
                            <h:inputText styleClass="inputmedium" id="title" value="#{register.accountRequest.title}" required="false" maxlength="50"/>
                        </h:panelGroup>
                    </h:panelGrid>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="firstname" value="#{msg.lblFirstName}:"/>
                    <h:message for="firstname" id="msgFirstname" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="firstname" value="#{register.accountRequest.firstName}"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}" maxlength="50">
                        <f:ajax event="blur" render="@this msgFirstname"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="lasttname" value="#{msg.lblLastName}:"/>
                    <h:message id="msgLastname" for="lasttname" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="lasttname" value="#{register.accountRequest.lastName}"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}" maxlength="50">
                        <f:ajax event="blur" render="@this msgLastname"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="contactRole" value="#{msg.lblContactRole}:"/>
                    <h:message id="msgContactRole" for="contactRole" styleClass="errorMessage"/>
                    <br/>
                    <h:selectOneMenu styleClass="input" id="contactRole" value="#{register.accountRequest.roleId}" required="true" requiredMessage="#{msg.lblChooseEntry}">
                        <f:selectItems value="#{sessionTools.contactRoleItems}"/>
                        <f:ajax event="blur" render="@this msgContactRole"/>
                    </h:selectOneMenu>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="contactPhone" value="#{msg.lblPhone}:"/>
                    <h:message id="msgContactPhone" for="contactPhone" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="contactPhone" value="#{register.accountRequest.phone}" required="false" maxlength="50">
                        <f:ajax event="blur" render="@this msgContactPhone"/>
                    </h:inputText>
                    </p>
                </div>
                <div class="inputright">
                    <p>
                    <h:outputLabel styleClass="label" for="company" value="#{msg.lblCompany}:"/>
                    <h:message id="msgCompany" for="company" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="company" value="#{register.accountRequest.company}"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}"
                                 maxlength="200">
                        <f:ajax event="blur" render="@this msgCompany"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" id="lblCustomerType" for="customerType" value="#{msg.lblCustomerType}:"/>
                    <h:message id="msgCustomerType" for="customerType" styleClass="errorMessage"/>
                    <br/>
                    <h:selectOneMenu styleClass="input" id="customerType" value="#{register.accountRequest.customerTypeId}"
                                     required="true" requiredMessage="#{msg.lblChooseEntry}">
                        <f:selectItems value="#{sessionTools.customerTypeItems}"/>
                        <f:ajax event="blur" render="@this msgCustomerType lblIk ik"/>
                    </h:selectOneMenu>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" id="lblIk" for="ik" value="#{msg.lblIK}:"/>
                    <h:message id="msgIk" for="ik" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="ik" value="#{register.accountRequest.IK}"
                                 required="#{register.ikRequired}" requiredMessage="#{msg.msgValueNeeded}" maxlength="9" validator="#{sessionTools.checkIk}">
                        <f:ajax event="blur" render="@this msgIk"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="street" value="#{msg.lblStreet}:"/>
                    <h:message id="msgStreet" for="street" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="street" value="#{register.accountRequest.street}"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}" maxlength="50" title="#{msg.titleRegisterStreet}">
                        <f:ajax event="blur" render="@this msgStreet"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="zip" value="#{msg.lblPostalCode}:"/>
                    <h:message id="msgZip" for="zip" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="zip" value="#{register.accountRequest.postalCode}"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}" maxlength="10" title="#{msg.titleRegisterZip}">
                        <f:ajax event="blur" render="@this msgZip"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="town" value="#{msg.lblTown}:"/>
                    <h:message id="msgTown" for="town" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="town" value="#{register.accountRequest.town}"
                                 required="true" requiredMessage="#{msg.msgValueNeeded}" maxlength="50" title="#{msg.titleRegisterTown}">
                        <f:ajax event="blur" render="@this msgTown"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="companyPhone" value="#{msg.lblPhone}:"/>
                    <h:message id="msgCompanyPhone" for="companyPhone" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="companyPhone" value="#{register.accountRequest.customerPhone}" required="false" maxlength="50" title="#{msg.titleRegisterPhone}">
                        <f:ajax event="blur" render="@this msgCompanyPhone"/>
                    </h:inputText>
                    </p>
                    <p>
                    <h:outputLabel styleClass="label" for="companyFax" value="#{msg.lblFax}:"/>
                    <h:message id="msgCompanyFax" for="companyFax" styleClass="errorMessage"/>
                    <br/>
                    <h:inputText styleClass="input" id="companyFax" value="#{register.accountRequest.customerFax}" required="false" maxlength="50" title="#{msg.titleRegisterFax}">
                        <f:ajax event="blur" render="@this msgCompanyFax"/>
                    </h:inputText>
                    </p>
                </div>
                <br class="defloat"/>
                <p>
                <h:outputText value="#{msg.dataPrivacyStatement}"/>
                </p>
                <p>
                <h:selectBooleanCheckbox id="approval" value="#{register.approved}" required="true" validator="#{register.checkApproval}" styleClass="marginRight">
                    <f:ajax event="blur" render="@this msgApproval"/>
                </h:selectBooleanCheckbox>
                <h:outputLabel for="approval" value="#{msg.agreementMsg}"/>
                <br/>
                <h:message id="msgApproval" for="approval" styleClass="errorMessage"/>
                </p>
                <br/>
                <p>
                <h:outputLabel styleClass="label" for="securityQuestion" value="#{msg.lblSecurityQuestion}:"/>
                <br/>
                <h:outputText value="#{sessionTools.securityQuestion}" styleClass="marginRight"/>
                <h:inputText styleClass="inputsmall" id="securityQuestion"
                             validator="#{sessionTools.checkSecurityQuestion}"
                             required="true" requiredMessage="#{msg.msgValueNeeded}" maxlength="5"
                             title="#{msg.tipSecurityQuestion}">
                    <f:ajax event="blur" render="@this msgSecurityQuestion"/>
                </h:inputText>
                <br/>
                <h:message id="msgSecurityQuestion" for="securityQuestion" styleClass="errorMessage"/>
                </p>
                <br/>
                <div class="toolBar">
                    <h:commandButton styleClass="bigButton" action="#{register.register}" value="#{msg.btnRegister}"/>
                </div>
            </div>
        </h:form>
    </ui:define>

</ui:composition>
