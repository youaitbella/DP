<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <h:head>
        <title>InEK Begleitforschungsbrowser</title>
        <link rel="shortcut icon" type="image/x-icon" href="#{request.contextPath}/javax.faces.resource/Icon/small/InEK.ico.xhtml"/>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
 	<meta name="msapplication-config" content="none"/>        
        <ui:remove>
            <!-- 
            Do not load the JSF AJAX library, although it might be needed for direct access.
            JSF will load it independently from the following statement, if AJAX is used.
            Thus, this lib would be loaded twice.
            Instead insert a dummy AJAX access by JSF to ensure the library being loaded.
            JSF will load only once.
            -->
            <h:outputScript name="jsf.js" library="javax.faces"/>
            
            <!-- 
            Do not use resources the JSF way, because they would be cached, although a new version might be provided.
            Use standrd html tags combined with a version. This ensures a reload after each compile/deployment cycls
            -->
            <h:outputStylesheet name="css/dataportal.css"/>
            <h:outputScript name="script/clientutils.js"/>
        </ui:remove>
        
        <link type="text/css" rel="stylesheet" href="#{request.contextPath}/javax.faces.resource/css/dataportal.css.xhtml?version=#{applicationTools.version}" />
        <link type="text/css" rel="stylesheet" href="#{request.contextPath}/javax.faces.resource/css/begleit.css.xhtml?version=#{applicationTools.version}" />
        <script type="text/javascript" src="#{request.contextPath}/javax.faces.resource/script/clientutils.js.xhtml?version=#{applicationTools.version}"></script>

    </h:head>

    <h:body>
        <h:inputText value="" styleClass="hide"><f:ajax/></h:inputText> <!-- dummy to ensure jsf.js -->
        <div class="noPrint warningWide" jsf:rendered="#{sessionController.elderInternetExplorer}">
            <h5>
                Ihr Browser wurde als ältere Version des Internet-Explorers erkannt.
                Bekanntermaßen kann dies (insbesondere bei Versionen kleiner 9) zu unerwarteten Fehlern ("Abstürzen") führen.
                Empfehlung: Aktualisieren Sie Ihren Internet Explorer (mind. Version 11) oder nutzen Sie einen anderen modernen Browser.
                Bitte beachten Sie die entsprechenden Hinweise im Handbuch.
            </h5>
        </div>
        <div id="wrapper">
            <div id="top">
                <div class="left">
                    <h:graphicImage alt="InEK GmbH" name="Image/InEK.gif"/>
                </div>
                <div class="right">
                    <div id="globalLinks">
                        <ul>
                            <li class="firstelement"><a href="http://g-drg.de/cms" title="zur Startseite wechseln">Home</a></li>
                            <li class="lastelement"><a href="http://g-drg.de/cms/Impressum" title="zum Impressum wechseln">Impressum</a></li>
                        </ul>
                    </div>
                    <div class ="head inlineBlock">
                        InEK Begleitforschungsbrowser
                    </div>
                    
                    <div class="highlight">
                        InEK – Institut für das Entgeltsystem im Krankenhaus
                        <span class="small">01.02.2016</span>
                    </div>
                </div>
            </div>
            <div class="defloat"></div>

            <div id="content">
                <div id="menu" class="navi">
                    <h:form id="nav">
                        <ul>
                            <h:panelGroup id="panelMenu">
                                <ui:repeat value="#{menuController.dataYears}" var="dataYear">
                                <li class="menu #{reque}">
                                    <h:commandLink value="#{dataYear.name}" immediate="false">
                                        <f:ajax event="click" render="nav:panelMenu" listener="#{menuController.clickedMenuItem(dataYear)}"></f:ajax>
                                    </h:commandLink>
                                </li>
                            </ui:repeat>
                            </h:panelGroup>
                            <li>
                                <a href="/DataPortal/resources/manual/InEK-Begleitforschungsbrowser.pdf" target="blank"  title="#{msg.titleManual}">Anwenderhandbuch</a>
                            </li>
                        </ul>
                    </h:form>
                </div>
                <div class="right">
                    <noscript>
                        <h3 class="warningWide">#{msg.msgEnableScript}</h3>
                    </noscript>
                    <h:form id="browsertest" rendered="false">
                        <div jsf:rendered="#{!sessionController.testPerformed}">
                            <script>
                                function test() {
                                    document.getElementById('browsertest:testclick').click();
                                }
                                addOnLoadFunction(test);
                            </script>
                            <h:commandLink id="testclick" action="#{sessionController.testClick}" immediate="true" value="testclick" style="display: none"/>
                        </div>
                        <div jsf:rendered="#{sessionController.testPerformed and !sessionController.clickable}">
                            <h3 class="warningWide">Ihr Browser unterstützt nicht alle erforderlichen Funktionen. Bitte lesen Sie das Handbuch, Abschnitt "getestete Browser".</h3>
                        </div>
                    </h:form>
                    <ui:insert name="mainContent">mainContent</ui:insert>
                </div>
                <div class="defloat"></div>
            </div>
            <div id="footer">
                © InEK GmbH - Institut für das Entgeltsystem im Krankenhaus 2010 - 2016 | Pflichtfelder sind mit * gekennzeichnet.
            </div>
        </div>

        <script type="text/javascript">
            #{sessionController.script}
        </script>
    </h:body>

</html>
