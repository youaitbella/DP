<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:jsf="http://xmlns.jcp.org/jsf"
      xmlns:f="http://xmlns.jcp.org/jsf/core">

    <f:metadata>
        <ui:insert name="metaData">metaData</ui:insert>
        <f:phaseListener type="org.inek.dataportal.common.LifeCycleListener"/>
    </f:metadata>
    
    <h:head>
        <meta http-equiv="Content-Type" content="text/html; charset=UTF-8" />
        <link type="text/css" rel="stylesheet" href="/DataPortal/javax.faces.resource/dataportal.css.xhtml?ln=css&amp;version=#{applicationTools.version}" />
        <!--h:outputStylesheet name="dataportal.css" library="css" /-->
        <!--h:outputScript name="clientutils.js" library="script"/-->
        <script type="text/javascript" src="/DataPortal/javax.faces.resource/clientutils.js.xhtml?ln=script&amp;version=#{applicationTools.version}"></script>
        <h:outputScript name="jsf.js" library="javax.faces"/>
    </h:head>

    <h:body>
        <div class="noPrint warningWide" jsf:rendered="#{sessionController.elderInternetExplorer}">
            <h5>
                Ihr Browser wurde als ältere Version des Internet-Explorers erkannt.
                Bekanntermaßen kann dies (insbesondere bei Versionen kleiner 9) zu unerwarteten Fehlern ("Abstürzen") führen.
                Empfehlung: Aktualisieren Sie Ihren Internet Explorer (mind. Version 11) oder nutzen Sie einen anderen modernen Browser.
                Bitte beachten Sie die entsprechenden Hinweise im Handbuch.
            </h5>
        </div>
        <div id="wrapper">
            <div id="top">
                <div class="left">
                    <h:graphicImage alt="InEK GmbH" name="InEK.gif" library="Image"/>
                </div>
                <div class="right">
                    <div id="globalLinks">
                        <ul>
                            <li class="firstelement"><a href="http://g-drg.de/cms" title="zur Startseite wechseln">Home</a></li>
                            <li class="lastelement"><a href="http://g-drg.de/cms/Impressum" title="zum Impressum wechseln">Impressum</a></li>
                        </ul>
                        <ui:insert name="userInfo">userInfo</ui:insert>
                    </div>
                    <div class ="head inlineBlock">
                        InEK Datenportal
                    </div>
                    <h:dataTable value="#{announcementBean.announcements.stream().filter(a->a.warning).toList()}" var="a" styleClass="warningWide inlineBlock"
                                 rendered="#{announcementBean.announcements.stream().filter(a->a.warning).toList().size() gt 0}">
                        <h:column>
                            <h:outputText value="#{a.text}"/>
                        </h:column>
                    </h:dataTable>

                    <div class="highlight">
                        InEK – Institut für das Entgeltsystem im Krankenhaus
                        <span class="small">v#{applicationTools.version}</span>
                    </div>
                </div>
            </div>
            <div class="defloat"></div>

            <div id="content">
                <div id="menu" class="navi">
                    <h:form id="nav">
                        <ul>
                            <ui:insert name="menuList">menuList</ui:insert>
                            <li>
                                <a href="/DataPortal/resources/manual/InEK-Datenportal.pdf" target="blank"  title="#{msg.titleManual}">Anwenderhandbuch</a>
                            </li>
                        </ul>
                    </h:form>

                    <h:dataTable value="#{announcementBean.announcements.stream().filter(a->!a.warning).toList()}" var="a" styleClass="hint"
                                 rendered="#{announcementBean.announcements.stream().filter(a->!a.warning).toList().size() gt 0}">
                        <h:column>
                            <h:outputText value="#{a.text}"/>
                        </h:column>
                    </h:dataTable>

                </div>


                <div class="right">
                    <noscript>
                        <h3 class="warningWide">#{msg.msgEnableScript}</h3>
                    </noscript>
                    <h:form id="browsertest" rendered="false">
                        <div jsf:rendered="#{!sessionController.testPerformed}">
                            <script>
                                function test() {
                                    document.getElementById('browsertest:testclick').click();
                                }
                                addOnLoadFunction(test);
                            </script>
                            <h:commandLink id="testclick" action="#{sessionController.testClick}" immediate="true" value="testclick" style="display: none"/>
                        </div>
                        <div jsf:rendered="#{sessionController.testPerformed and !sessionController.clickable}">
                            <h3 class="warningWide">Ihr Browser unterstützt nicht alle erforderlichen Funktionen. Bitte lesen Sie das Handbuch, Abschnitt "getestete Browser".</h3>
                        </div>
                    </h:form>
                    <ui:insert name="mainContent">mainContent</ui:insert>
                </div>
                <div class="defloat"></div>
            </div>
            <div id="footer">
                © InEK GmbH - Institut für das Entgeltsystem im Krankenhaus 2010 - #{sessionTools.currentYear} | Pflichtfelder sind mit * gekennzeichnet.
            </div>
            <ui:insert name="bottom">bottom</ui:insert>
        </div>

        <script type="text/javascript">
            #{sessionController.script}
        </script>
    </h:body>

</html>
