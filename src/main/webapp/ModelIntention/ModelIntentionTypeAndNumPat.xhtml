<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE composition PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd">
<ui:composition xmlns:ui="http://java.sun.com/jsf/facelets"
                template="ModelIntention.xhtml"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components"
                >

    <ui:define name="editContent">
        <h:form id="form">

            <h2>#{msg.headerPatientTypes}</h2>
            <br/>
            #{msg.msgPatientTypes}
            <br/>

            <div class="inputPart">
                <h:outputLabel styleClass="label30" id="ageYears" value="#{msg.lblAgeYears} (von - bis):" />
                <h:inputText styleClass="inputshort" id="ageYearsFrom" value="#{editModelIntention.modelIntention.ageYearsFrom}" >
                    <f:ajax event="blur" render="@this msgAgeYearsFrom :logout:remaining" />
                </h:inputText>
                &nbsp;- &nbsp;
                <h:inputText styleClass="inputshort" id="ageYearsTo" value="#{editModelIntention.modelIntention.ageYearsTo}">
                    <f:ajax event="blur" render="@this msgAgeYearsTo :logout:remaining" />
                </h:inputText>
                <h:message for="ageYearsFrom" id="msgAgeYearsFrom" styleClass="errorMessage"/>
                <h:message for="ageYearsTo" id="msgAgeYearsTo" styleClass="errorMessage"/>

            </div>
            <div class="inputPart">
                <h:outputLabel styleClass="label30" id="gender" value="#{msg.lblGender}:" />
                <h:selectOneMenu id="genders" value="#{editModelIntention.modelIntention.sex}">
                    <f:selectItems value="#{editModelIntention.genders}" />
                    <f:ajax event="change" render="@this :logout:remaining" />
                </h:selectOneMenu>
            </div>

            <inek:LabeledTextarea Label="#{msg.lblPersonalMisc}" Text="#{editModelIntention.modelIntention.miscPatient}"/>

            <inek:LabeledSelectAndText Label="#{msg.lblRegionalFeatures}" 
                                       SelectElement="#{editModelIntention.region}"
                                       SelectItems="#{editModelIntention.regions}"
                                       Text="#{editModelIntention.modelIntention.region}"
                                       />

            <inek:LabeledSelectAndText Label="#{msg.lblMedicalFeature}" 
                                       SelectElement="#{editModelIntention.modelIntention.medicalAttributesType}"
                                       SelectItems="#{editModelIntention.medicalAttributes}"
                                       Text="#{editModelIntention.modelIntention.medicalSpecification}"
                                       />

            <h:outputLabel styleClass="label30" id="insuranceAffiliation" value="#{msg.lblModelIntentionHealthInsurance}:" />
            <h:selectOneMenu id="insuranceAffiliations" value="#{editModelIntention.modelIntention.insuranceAffiliation}">
                <f:selectItems value="#{editModelIntention.insuranceAffiliation}" />
                <f:ajax event="change" render="@this :logout:remaining" />
            </h:selectOneMenu>

            <inek:LabeledTextarea Label="#{msg.lblMiscAttr}" Text="#{editModelIntention.modelIntention.miscAttribute}"/>

            <h:outputLabel styleClass="label30" id="patientAgreement" value="#{msg.lblPatientAgreement}" />
            <h:selectBooleanCheckbox value="#{editModelIntention.modelIntention.agreement}">
                <f:ajax event="blur" render="@this :logout:remaining" />
            </h:selectBooleanCheckbox>


            <h2>#{msg.headerAssignmentModelIntention}</h2>

            <inek:LabeledSelectAndText Label="#{msg.lblSettledDocs}" 
                                       SelectElement="#{editModelIntention.modelIntention.settleMedicType}"
                                       SelectItems="#{editModelIntention.settledTypes}"
                                       Text="#{editModelIntention.settleText}"
                                       Threshold="1"
                                       />

            <inek:LabeledSelectAndText Label="#{msg.lblPia}" 
                                       SelectElement="#{editModelIntention.modelIntention.piaType}"
                                       SelectItems="#{editModelIntention.piaTypes}"
                                       Text="#{editModelIntention.PIAText}"
                                       />

            <inek:LabeledSelectAndText Label="#{msg.lblHospital}" 
                                       SelectElement="#{editModelIntention.modelIntention.hospitalType}"
                                       SelectItems="#{editModelIntention.hospitalTypes}"
                                       Text="#{editModelIntention.hospitalText}"
                                       Threshold="2"
                                       />

            <div class="inputpart">
                <h:outputLabel styleClass="label30" id="selfHospitalisation" value="#{msg.lblSelfHospitalisation}:" />
                <h:selectOneMenu id="selfHospitalisationTypes" value="#{editModelIntention.modelIntention.selfHospitalisationType}">
                    <f:selectItems value="#{editModelIntention.selfHospitalisationTypes}" />
                    <f:ajax event="change" render="@this :logout:remaining" />
                </h:selectOneMenu>
            </div>

            <inek:LabeledTextarea Label="#{msg.lblMiscHospitalisation}" Text="#{editModelIntention.modelIntention.miscHospitalisation}"/>

        </h:form>

        <ui:include src="#{sessionTools.pages.FragmentAgreedPatients}"/>

    </ui:define>
</ui:composition>
