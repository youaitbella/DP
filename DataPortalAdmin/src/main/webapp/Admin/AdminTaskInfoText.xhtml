<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                template="AdminTask.xhtml"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components/common"
                xmlns:c="http://java.sun.com/jsp/jstl/core"
                xmlns:jsf="http://xmlns.jcp.org/jsf"
                xmlns:pf="http://primefaces.org/ui">


    <ui:define name="editContent">

        <h:form>

            
            <pf:dataTable    id ="infoTextTable" 
                             var="infoText" 
                             value="#{adminInfoText.listOfInfoTexts}" 
                             rows="10"
                             paginator="true"
                             paginatorTemplate="{CurrentPageReport} {FirstPageLink} {PreviousPageLink} {PageLinks} {NextPageLink} {LastPageLink} {RowsPerPageDropdown}"
                             rowsPerPageTemplate="5,10,15">

                <pf:column headerText="Key">
                    <h:outputText value="#{infoText.key}" />
                </pf:column>

                <pf:column headerText="Short Text"> 
                    <pf:inputText id="shortText"  value="#{infoText.shortText}" >
                        <pf:ajax />
                    </pf:inputText>               
                </pf:column>

                <pf:column headerText="Description">            
                    <pf:inputText id="description" value="#{infoText.description}" >
                        <pf:ajax />
                    </pf:inputText>              
                </pf:column>
                <f:facet name="paginatorBottomRight">
                    <pf:commandButton value="Infotext hinzufügen" onclick="PF('dlgAddNewInfoText').show();" />
                </f:facet>
            </pf:dataTable>
            
            <pf:dialog header="Infotext hinzufügen" widgetVar="dlgAddNewInfoText" modal="true" height="100">
                <pf:inputText id="newInfoText" value="#{adminInfoText.newKey}">
                        <pf:ajax />
                </pf:inputText>  
                <pf:commandButton value="Hinzufügen" id="btnInfoTextAddNew" actionListener="#{adminInfoText.addInfoText}" onclick="PF('dlgAddNewInfoText').hide()" update="infoTextTable"/>
                <pf:commandButton value="Abbrechen" id="btnInfoTextAddNewAbbort" onclick="PF('dlgAddNewInfoText').hide()" />
            </pf:dialog> 
            
            <pf:commandButton value="#{msg.btnSave}" id="btnInfoTextSave" actionListener="#{adminInfoText.onSave}"/>
            
        </h:form>
    </ui:define>
</ui:composition>
