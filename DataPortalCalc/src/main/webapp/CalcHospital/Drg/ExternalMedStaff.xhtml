<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:cb="http://inek.org/dataportal/clientbehaviour"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components/common"
                xmlns:calc="http://xmlns.jcp.org/jsf/composite/components/feature/calc"
                xmlns:jsf="http://xmlns.jcp.org/jsf">
    <h2>Übersicht externes Personal</h2>
    <inek:LabeledCheckbox label="Das Krankenhaus hat Ärzte_Pflegekräfte_Funktionsdienst als externes Personal beschäftigt:"
                          styleClassLabel="label40"
                          value="#{editCalcBasicsDrg.calcBasics.externalStaff}"
                          renderElement="@form externalMedStaffId :script"
                          readonly="#{editCalcBasicsDrg.readOnly}"
                          listener="#{sessionController.hideData(editCalcBasicsDrg.calcBasics.externalStaff)}">
    </inek:LabeledCheckbox>
<!--    Ärztlichen Dienst-->
    <div class="inputPart">
<!--        <h:outputLabel styleClass="label50" value="Im Krankenhaus eingesetztes Fremdpersonal im Ärztlichen Dienst:"/>-->
        <h2>Im Krankenhaus eingesetztes Fremdpersonal im Ärztlichen Dienst:</h2>
        <h:dataTable value="#{editCalcBasicsDrg.calcBasics.externalMedStaffs}"
                     id="externalMedStaffId"
                     var="externalMedStaff"
                     styleClass="borderedTable borderCollapse"
                     headerClass="smallFont paddingElement"
                     tableStyle="table-layout: auto"
                     rowClasses="row1, row2" rendered="#{editCalcBasicsDrg.calcBasics.externalStaff}"
                     columnClasses="colIcon, col1, col2, col3, col4, col5">
            <h:column>
                <h:commandLink action="#{editCalcBasicsDrg.deleteExternalMedStaff(externalMedStaff)}"
                               rendered="true"
                               immediate="true" styleClass="colIcon">
                    <h:graphicImage alt="#{msg.btnDelete}" name="Icon/small/delete.png" title="#{msg.btnDelete}"
                                    value=""
                                    rendered="#{!editCalcBasicsDrg.readOnly}"/>
                    <cb:confirmDelete/>
                </h:commandLink>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Bereich/Station"/></f:facet>
                <inek:InputTextWithMessage id="division"
                             required="true"
                             value="#{externalMedStaff.divisionMedStaff}"
                             styleClass="fullWidth"
                             readonly="#{editCalcBasicsDrg.readOnly}">
                </inek:InputTextWithMessage>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Anzahl VK"/></f:facet>
                <inek:InputNumberWithMessage  id="countMedStaff"
                              value="#{externalMedStaff.count}" />
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kostenvolumen"/></f:facet>
                <inek:InputNumberWithMessage id="costVolumeMedStaff"
                                             renderElement="#{component.clientId.substring(0, component.clientId.indexOf('costVolumeMedStaff'))}costPerFullTime:text"
                                             styleClass="element100" value="#{externalMedStaff.costVolume}"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kosten je VK"/></f:facet>
<!--                {externalMedStaff.costPerFullTime}-->
                <inek:InputNumberWithMessage id="costPerFullTime" styleClass="element100"
                                             disabled="true"
                                             value="#{externalMedStaff.count eq 0 ? '' : externalMedStaff.costVolume / externalMedStaff.count}"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoStGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value="#{externalMedStaff.costKoStGr}"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoArtGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value="#{externalMedStaff.costKoArtGr}"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Erläuterungsfeld"/></f:facet>
                <inek:InputTextWithMessage required="true"
                                           value="#{externalMedStaff.explanationField}"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>

        </h:dataTable>
    </div>
    <h:commandLink id="addButton" styleClass="addButton inputPart" value="#{msg.btnAddEntry}"
                   rendered="#{!editCalcBasicsDrg.readOnly}">
        <f:ajax event="click" render="externalMedStaffId :logout:remaining"
                listener="#{editCalcBasicsDrg.addexternalMedStaff()}"/>
    </h:commandLink>

<!--    Pflegedienst-->
<!--    Pflegefachkräfte-->
    <div class="inputPart">
        <h2>Im Krankenhaus eingesetztes Fremdpersonal im Pflegedienst:</h2>
        <h:outputLabel styleClass="label50" value="Pflegefachkräfte"/>
        <h:dataTable id="externalNursingStaffId"
                     value="#{editCalcBasicsDrg.calcBasics._externalNursingStaffs}" var="externalNursingStaff"
                     styleClass="borderedTable borderCollapse"
                     headerClass="smallFont paddingElement"
                     tableStyle="table-layout: auto"
                     rowClasses="row1, row2"
                     columnClasses="colIcon, col1, col2, col3, col4, col5">
            <h:column>
                <h:commandLink action="#{editCalcBasicsDrg.deleteExternalMedStaff(externalNursingStaff)}"
                               rendered="true"
                               immediate="true" styleClass="colIcon">
                    <h:graphicImage alt="#{msg.btnDelete}" name="Icon/small/delete.png" title="#{msg.btnDelete}"
                                    value=""
                                    rendered="#{!editCalcBasicsDrg.readOnly}"/>
                    <cb:confirmDelete/>
                </h:commandLink>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Bereich/Station"/></f:facet>
                <inek:InputTextWithMessage id="division"
                                           required="true"
                                           value="#{externalNursingStaff.divisionNursingStaff}"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Anzahl VK"/></f:facet>
                <inek:InputIntegerWithMessage id="countNursingStaff"
                                              renderElement="#{component.clientId.substring(0, component.clientId.indexOf('countNursingStaff'))}costPerFullTimeNursingStaff:text"
                                              value="#{externalNursingStaff.countNursingStaff}" />
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Kostenvolumen, welches gem. §6a Abs. 2 KHEntgG zur Ermittlung des Pflegebudgets berücksichtigt werden darf:"/>
                </f:facet>
                <inek:InputNumberWithMessage styleClass="element100"
                                             value="#{externalNursingStaff.consideredCostVolumeNursingStaff}"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Kostenvolumen, welches nicht gem. §6a Abs. 2 KHEntgG im Pflegebudget berücksichtigt werden darf:"/>
                    <h:graphicImage alt="" name="Icon/small/information.png" height="12"
                                    title="Bitte geben Sie hier das Kostenvolumen an, welches über den tarifvertraglich vereinbarten Arbeitsentgelt des Pflegepersonals mit direktem Beschäftigsverhältnis hinausgeht (z.B. Vermittlungsentgelte).
                                            Bitte beachten Sie in diesem Zusammenhang die Hinweise zur Kalkulation 2020."/>
                </f:facet>
                <inek:InputNumberWithMessage styleClass="element100"
                                             value="#{externalNursingStaff.notConsideredCostVolumeNursingStaff}"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kosten je VK"/></f:facet>
                <inek:InputNumberWithMessage id="costPerFullTimeNursingStaff" styleClass="element100"
                                             disabled="true"
                                             value="#{externalNursingStaff.countNursingStaff eq 0 ? '' : externalNursingStaff.consideredCostVolumeNursingStaff + externalNursingStaff.notConsideredCostVolumeNursingStaff / externalNursingStaff.countNursingStaff}"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoStGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100"
                                             value="#{externalNursingStaff.costStGrNursingStaff}"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoArtGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100"
                                             value="#{externalNursingStaff.costKoArtGrNursingStaff}"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Erläuterungsfeld"/></f:facet>
                <inek:InputTextWithMessage id="explanationField"
                                           required="true"
                                           value="#{externalNursingStaff.explanationFieldNursingStaff}"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>

        </h:dataTable>
    </div>
    <h:commandLink id="addButton1" styleClass="addButton inputPart" value="#{msg.btnAddEntry}"
                   rendered="#{!editCalcBasicsDrg.readOnly}">
        <f:ajax event="click" render="externalNursingStaffId :logout:remaining"
                listener="#{editCalcBasicsDrg.addexternalNursingStaff}"/>
    </h:commandLink>

<!--    Pflegehilfskräfte-->
    <div class="inputPart">
        <h:outputLabel styleClass="label50" value="Pflegehilfskräfte"/>
        <h:dataTable value=""
                     id="nursingAssistantsId"
                     styleClass="borderedTable borderCollapse"
                     headerClass="smallFont paddingElement"
                     tableStyle="table-layout: auto"
                     rowClasses="row1, row2"
                     columnClasses="colIcon, col1, col2, col3, col4, col5">
            <h:column>
                <f:facet name="header"><h:outputLabel value="Bereich/Station"/></f:facet>
                <inek:InputTextWithMessage id="division"
                                           required="true"
                                           value=""
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Anzahl VK"/></f:facet>
                <inek:InputIntegerWithMessage value="" readonly="false"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kostenvolumen, welches gem. §6a Abs. 2 KHEntgG zur Ermittlung des Pflegebudgets berücksichtigt werden darf:"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="false"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Kostenvolumen, welches nicht gem. §6a Abs. 2 KHEntgG im Pflegebudget berücksichtigt werden darf:"/>
                    <h:graphicImage alt="" name="Icon/small/information.png" height="12"
                                    title="Bitte geben Sie hier das Kostenvolumen an, welches über den tarifvertraglich vereinbarten Arbeitsentgelt des Pflegepersonals mit direktem Beschäftigsverhältnis hinausgeht (z.B. Vermittlungsentgelte).
                                            Bitte beachten Sie in diesem Zusammenhang die Hinweise zur Kalkulation 2020."/>
                </f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kosten je VK"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoStGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoArtGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Erläuterungsfeld"/></f:facet>
                <inek:InputTextWithMessage id="explanationField"
                                           required="true"
                                           value=""
                                           readonly="true"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>

        </h:dataTable>
    </div>
    <!--    Sonstige Pflegekräfte-->
    <div class="inputPart">
        <h:outputLabel styleClass="label50" value="Sonstige Pflegekräfte"/>
        <h:dataTable value=""
                     id="OthercareStaffId"
                     styleClass="borderedTable borderCollapse"
                     headerClass="smallFont paddingElement"
                     tableStyle="table-layout: auto"
                     rowClasses="row1, row2"
                     columnClasses="colIcon, col1, col2, col3, col4, col5">
            <h:column>
                <f:facet name="header"><h:outputLabel value="Bereich/Station"/></f:facet>
                <inek:InputTextWithMessage id="division"
                                           required="true"
                                           value=""
                                           readonly="true"
                                           styleClass="fullWidth"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Anzahl VK"/></f:facet>
                <inek:InputIntegerWithMessage value=""
                                              readonly="true"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kostenvolumen, welches gem. §6a Abs. 2 KHEntgG zur Ermittlung des Pflegebudgets berücksichtigt werden darf:"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Kostenvolumen, welches nicht gem. §6a Abs. 2 KHEntgG im Pflegebudget berücksichtigt werden darf:"/>
                    <h:graphicImage alt="" name="Icon/small/information.png" height="12"
                                    title="Bitte geben Sie hier das Kostenvolumen an, welches über den tarifvertraglich vereinbarten Arbeitsentgelt des Pflegepersonals mit direktem Beschäftigsverhältnis hinausgeht (z.B. Vermittlungsentgelte).
                                            Bitte beachten Sie in diesem Zusammenhang die Hinweise zur Kalkulation 2020."/>
                </f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kosten je VK"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoStGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoArtGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Erläuterungsfeld"/></f:facet>
                <inek:InputTextWithMessage required="true"
                                           value=""
                                           readonly="true"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>

        </h:dataTable>
    </div>

    <!--    Fremdpersonal im med. techn. Dienst/ Funktionsdienst: -->
    <div class="inputPart">
        <h2>Im Krankenhaus eingesetztes Fremdpersonal im med. techn. Dienst/ Funktionsdienst:</h2>
        <h:dataTable value=""
                     id="externalNursingId"
                     styleClass="borderedTable borderCollapse"
                     headerClass="smallFont paddingElement"
                     tableStyle="table-layout: auto"
                     rowClasses="row1, row2"
                     columnClasses="colIcon, col1, col2, col3, col4, col5">
            <h:column>
                <f:facet name="header">
                    <h:outputLabel value="Bereich/Station"/>
                </f:facet>
                <inek:InputTextWithMessage id="division"
                                           required="true"
                                           value=""
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Anzahl VK"/></f:facet>
                <inek:InputIntegerWithMessage/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kostenvolumen"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Kosten je VK"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoStGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="KoArtGr"/></f:facet>
                <inek:InputNumberWithMessage styleClass="element100" value=""
                                             readonly="true"
                                             pattern="##,###.00"/>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Berufsgruppe des med. techn. Dienst/ Funktionsdienst"/></f:facet>
                <inek:InputTextWithMessage required="true"
                                           value=""
                                           readonly="true"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>
            <h:column>
                <f:facet name="header"><h:outputLabel value="Erläuterungsfeld"/></f:facet>
                <inek:InputTextWithMessage id="explanationField"
                                           required="true"
                                           value=""
                                           readonly="true"
                                           styleClass="fullWidth">
                </inek:InputTextWithMessage>
            </h:column>

        </h:dataTable>
    </div>

</ui:composition>