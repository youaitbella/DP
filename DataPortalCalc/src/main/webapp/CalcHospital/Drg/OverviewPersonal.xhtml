<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components/common"
>

    <h2>Ãœbersicht Personal</h2>

    <h:dataTable id="table"
                 value="#{editCalcBasicsDrg.calcBasics.overviewPersonals}"
                 var="item"
                 width="100%"
                 columnClasses="col20em, col05em number, col05em number, col05em number, col05em number, col05em number, col05em number"
                 rowClasses="row1, row2">

        <h:column>
            <f:facet name="header"> </f:facet>
            <h:outputLabel styleClass="label" value="#{item.overviewPersonalType.text}" />
        </h:column>

        <h:column>
            <f:facet name="header">Anzahl VK vor Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.amountVKPre}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPost"
                                         readonly="#{editCalcBasicsDrg.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Anzahl VK nach Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.amountVKPost}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPost"
                                         readonly="#{editCalcBasicsDrg.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenvolumen vor Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.costAmountPre}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPost"
                                         readonly="#{editCalcBasicsDrg.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenvolumen nach Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.costAmountPost}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 6))}:vkPost"
                                         readonly="#{editCalcBasicsDrg.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Je VK vor Abgrenzung</f:facet>
            <h:outputLabel id="vkPre"
                           styleClass="label"
                           value="#{item.amountVKPre gt 0 ? item.costAmountPre / item.amountVKPre : 0}" >
                <f:convertNumber pattern="#,##0.00" />
            </h:outputLabel>
        </h:column>

        <h:column>
            <f:facet name="header">Je VK nach Abgrenzung</f:facet>
            <h:outputLabel id="vkPost"
                           styleClass="label"
                           value="#{item.amountVKPost gt 0 ? item.costAmountPost / item.amountVKPost : 0}" >
                <f:convertNumber pattern="#,##0.00" />
            </h:outputLabel>
        </h:column>

    </h:dataTable>

</ui:composition>

