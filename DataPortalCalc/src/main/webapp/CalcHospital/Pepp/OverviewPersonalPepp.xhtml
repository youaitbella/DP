<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components/common"
>

    <h2>Ãœbersicht Personal</h2>

    <h:dataTable id="table"
                 value="#{editCalcBasicsPepp.calcBasics.overviewPersonals}"
                 var="item"
                 width="100%"
                 columnClasses="col20em, col05em number, col05em number, col05em number, col05em number, col05em number, col05em number"
                 rowClasses="row1, row2">

        <h:column>
            <f:facet name="header"> </f:facet>
            <h:outputLabel styleClass="label" value="#{item.overviewPersonalType.text}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenartengruppe </f:facet>
            <inek:InputNumberWithMessage value="#{item.costType}"
                                         renderElement="vkPre vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Anzahl VK vor Abgrenzung</f:facet>
            <!--<inek:InputNumberWithMessage value="#{item.amountVKPre}"
                                         renderElement="vkPre vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />-->
            <h:selectOneMenu id="costType"
                             required="true"
                             requiredMessage="#{msg.msgValueNeeded}"
                             value="#{item.costType}">
                <f:selectItem itemLabel="" itemValue=""/>
            </h:selectOneMenu>
        </h:column>

        <h:column>
            <f:facet name="header">Anzahl VK nach Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.amountVKPost}"
                                         renderElement="vkPre vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenvolumen vor Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.costAmountPre}"
                                         renderElement="vkPre vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenvolumen nach Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.costAmountPost}"
                                         renderElement="vkPre vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Je VK vor Abgrenzung</f:facet>
            <h:outputLabel id="vkPre"
                           styleClass="label"
                           rendered="#{item.amountVKPre gt 0}"
                           value="#{item.costAmountPre / item.amountVKPre}" >
                <f:convertNumber pattern="#0.00" />
            </h:outputLabel>
        </h:column>

        <h:column>
            <f:facet name="header">Je VK nach Abgrenzung</f:facet>
            <h:outputLabel id="vkPost"
                           styleClass="label"
                           rendered="#{item.amountVKPost gt 0}"
                           value="#{item.costAmountPost / item.amountVKPost}" >
                <f:convertNumber pattern="#0.00" />
            </h:outputLabel>
        </h:column>

    </h:dataTable>

</ui:composition>

