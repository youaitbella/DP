<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:f="http://xmlns.jcp.org/jsf/core"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components/common"
>

    <h2>Ãœbersicht Personal</h2>

    <div class="container">
    <h:dataTable id="table"
                 value="#{editCalcBasicsPepp.calcBasics.overviewPersonals}"
                 var="item"
                 width="100%"
                 columnClasses="col25em, col05em, col05em number, col05em number, col05em number, col05em number, col05em number, col05em number"
                 rowClasses="row1, row2">

        <h:column>
            <f:facet name="header">Berufsgruppe</f:facet>
            <h:outputLabel styleClass="label" value="#{item.overviewPersonalType.text}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenartengruppe </f:facet>
            <h:outputLabel styleClass="label" value="#{item.overviewPersonalType.costType.charId}"/>
        </h:column>

        <h:column>
            <f:facet name="header">Anzahl VK vor Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.amountVKPre}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}"/>
        </h:column>

        <h:column>
            <f:facet name="header">Anzahl VK nach Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.amountVKPost}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenvolumen vor Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.costAmountPre}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kostenvolumen nach Abgrenzung</f:facet>
            <inek:InputNumberWithMessage value="#{item.costAmountPost}"
                                         renderElement="#{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPre #{component.clientId.substring(0, component.clientId.indexOf(':', 22) )}:vkPost"
                                         readonly="#{editCalcBasicsPepp.readOnly}" />
        </h:column>

        <h:column>
            <f:facet name="header">Kosten je VK vor Abgrenzung</f:facet>
            <h:outputLabel id="vkPre"
                           styleClass="label"
                           value="#{item.amountVKPre gt 0 ? item.costAmountPre / item.amountVKPre: ''}">
                <f:convertNumber pattern="#,##0.00"/>
            </h:outputLabel>
        </h:column>

        <h:column>
            <f:facet name="header">Kosten je VK nach Abgrenzung</f:facet>
            <h:outputLabel id="vkPost"
                           styleClass="label"
                           value="#{item.amountVKPost gt 0 ? item.costAmountPost / item.amountVKPost : ''}">
                <f:convertNumber pattern="#,##0.00"/>
            </h:outputLabel>
        </h:column>

    </h:dataTable>
    </div>

</ui:composition>

