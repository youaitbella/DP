<?xml version='1.0' encoding='UTF-8' ?>
<!DOCTYPE html [<!ENTITY nbsp "&#160;">]>

<html>
<ui:composition xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
                xmlns:h="http://xmlns.jcp.org/jsf/html"
                xmlns:inek="http://xmlns.jcp.org/jsf/composite/components/common"
                xmlns:calc="http://xmlns.jcp.org/jsf/composite/components/feature/calc"
>

    <h2>#{msg.lblCalcTherapyScope}</h2>

    <style>
        #tbl {
            margin-top: 20px;
        }
        #tbl tr:first-child td {
            text-align: center;
            font-size: 1.2em;
        }
        #tbl td {
            background-color: #7F9BAF;
            font-weight: bold;
            color: white;
            padding: 2px 6px 2px 6px;
        }

        #tbl {
            width: 100px;
        }

        .red {
            color: red;
        }

        .prior {
            width: 100%;
            text-align: right;
            display: inline-block;
        }

        .diff {
            color: #043358;
        }
        .col100px {
            min-width: 100px;
        }
        .col90px {
            min-width: 90px;
        }
        .col80px {
            min-width: 80px;
        }
        .col70px {
            min-width: 70px;
        }
        .col60px {
            min-width: 60px;
        }

    </style>

    <div>
        <!--    TODO:
                    value       => get from database
                    readonly    => get from database
                    listener    => if checkbox changed, update database-->

        <div class="inputPart">
            <h:outputLabel styleClass="label"
                           value="Werden ab dem DJ#{editCalcBasicsPepp.calcBasics.dataYear} weiterhin Therapieeinheiten für folgende Bereiche erfasst:"/> &nbsp;
<!--            for #{msg.lblCalcTherapyScope} the sheetId = 3; compare to table care.KGPListSheet -->
            <ui:repeat value="#{editCalcBasicsPepp.retrieveContentText(3)}" var="x" varStatus="status">
                <inek:LabeledCheckbox label="#{x.text}"
                                      styleClassLabel="label30"
                />

            </ui:repeat>
        </div>
    </div>

    <div style="overflow-x: scroll;">
        <table id="tbl">
            <tr>
                <td></td>
                <td class="" colspan="4"></td>
                <td colspan="2">KoArtG 1</td>
                <td colspan="2">KoArtG 3a</td>
                <td colspan="2">KoArtG 2</td>
                <td colspan="2">KoArtG 3b</td>
                <td colspan="2">KoArtG 3c</td>
                <td colspan="2">KoArtG 3</td>
                <td colspan="6">Personalkosten je Leistungseinheit in Euro (berechnet)</td>
            </tr>
            <tr>
                <td></td>
                <td class="">
                    KSt.- Gruppe
                </td>
                <td class="col80px">
                    Leistungsinhalt der Kostenstelle
                </td>
                <td class="">
                    Leistungserbringung 
                </td>
                <td class="col80px">
                    verwendeter Leistungs- schlüssel (z.B. Minuten, DKG-NT)
                </td>
                <td class="col80px">
                    Summe Leistungs- einheiten 
                </td>
                <td class="">
                    Personal- kosten
                </td>
                <td class="col80px">
                    Summe Leistungs- einheiten 
                </td>
                <td class="">
                    Personal- kosten
                </td>
                <td class="col80px">
                    Summe Leistungs- einheiten 
                </td>
                <td class="">
                    Personal- kosten
                </td>
                <td class="col80px">
                    Summe Leistungs- einheiten 
                </td>
                <td class="">
                    Personal- kosten
                </td>
                <td class="col80px">
                    Summe Leistungs- einheiten 
                </td>
                <td class="">
                    Personal- kosten
                </td>
                <td class="col80px">
                    Summe Leistungs- einheiten 
                </td>
                <td class="">
                    Personal- kosten
                </td>
                <td class="col60px">
                    KoArtG 1
                </td>
                <td class="col60px">
                    KoArtG 3a
                </td>
                <td class="col60px">
                    KoArtG 2
                </td>
                <td class="col60px">
                    KoArtG 3b
                </td>
                <td class="col60px">
                    KoArtG 3c
                </td>
                <td class="col60px">
                    KoArtG 3
                </td>
            </tr>

            <calc:Service costCenterId="23" buttonText="#{msg.btnAddTherapyPsycho}"/>
            <calc:Service costCenterId="24" buttonText="#{msg.btnAddTherapyPhysical}"/>
            <calc:Service costCenterId="25" buttonText="#{msg.btnAddTherapyErgo}"/>
            <calc:Service costCenterId="26" buttonText="#{msg.btnAddTherapyOther}"/>
        </table>
    </div>

    <h:panelGroup id="pnlProtokoll" rendered="#{!editCalcBasicsPepp.readOnly}" class="inputPart">

        <inek:UploadButtons importer="#{editCalcBasicsPepp.getImporter('pepptherapy')}"
                             calcbase="#{editCalcBasicsPepp.calcBasics}" 
                             readOnly="#{editCalcBasicsPepp.readOnly}"
                             showAdd="false"
                             addListener="#{editCalcBasicsPepp.addTherapyCost(23)}"
                             uploadButtonText="Upload"
                             actionDeleteTable="#{editCalcBasicsPepp.clearTherapyCosts()}"
                             />
    </h:panelGroup>


</ui:composition>

</html>